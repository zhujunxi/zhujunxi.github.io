<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-夜行者" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/14/夜行者/" class="article-date">
  <time datetime="2017-12-14T13:10:33.000Z" itemprop="datePublished">2017-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/心情随笔/">心情随笔</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/14/夜行者/">夜行者</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>2017年接近尾声了。时间向来不等人，今年尤其快。依稀记得7年前看过一本叫《荆棘鸟》的书，有一句“白驹何神俊，过隙乃何速尔”。</p>
</blockquote>
<p>年初一直感觉身体缺乏锻炼，因为在之前从16年8月开始一直加班赶公司项目，后来稍微闲一些又在做淘宝店的设计装修工作，到16年底感觉身体被掏空了，于是在周末和晚上下班会顺着街道边走走，之所以不跑步，是因为长时间不锻炼，感觉身体跑不起来了。元旦那天搬的家，那天匆忙的搬完家，天气灰蒙蒙的，像雾霾一样，原以为深圳这样的沿海城市没有什么污染，没曾想也没有幸免。但是也没有阻挡我想出去走走的冲动。</p>
<p>换了偏一些的新家，周围是密集的居民区、工业区等，人流很大，市井味很重。</p>
<p>于是我开始扫街。</p>
<p>东边一天，西边一天，南边北边。距离也越来越远。走着看着，看过去几十年深圳发展的痕迹。</p>
<p>走过一个钢铁石材加工区，厂房相较南山福田的高科技园区显得有些破旧，这里只是稀稀拉拉的人和车，唯一证明这里曾经辉煌过的证据就是周围密密麻麻的连屋宿舍。</p>
<p>走过夜市，鞋底明细感觉到油腻。</p>
<p>~ 未完待续</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/14/夜行者/" data-id="cjt194hm6000n84tpvt5do3qm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-车商通SCRM重构项目规划" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/13/车商通SCRM重构项目规划/" class="article-date">
  <time datetime="2017-12-13T13:09:54.000Z" itemprop="datePublished">2017-12-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/13/车商通SCRM重构项目规划/">车商通SCRM重构项目规划[wechat.scrm.public]</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="开发环境启动步骤"><a href="#开发环境启动步骤" class="headerlink" title="开发环境启动步骤"></a>开发环境启动步骤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 安装项目依赖</span></span><br><span class="line">npm install</span><br><span class="line"><span class="comment"># 启动服务并开启热更新 ，服务地址：localhost:8080</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure>
<h3 id="生产打包"><a href="#生产打包" class="headerlink" title="生产打包"></a>生产打包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 构建webpack打包压缩 [打包在/dist]</span></span><br><span class="line">npm run build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看打包报告</span></span><br><span class="line">npm run build --report</span><br></pre></td></tr></table></figure>
<h3 id="技术文档"><a href="#技术文档" class="headerlink" title="技术文档"></a>技术文档</h3><ul>
<li><p>前端框架：<a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener">vue2</a></p>
</li>
<li><p>UI框架： <a href="http://vue.ydui.org/docs/#/quickstart" target="_blank" rel="noopener">YDUI</a></p>
</li>
<li><p>路由管理：<a href="https://router.vuejs.org/" target="_blank" rel="noopener">vue-router</a></p>
</li>
<li><p>状态管理：<a href="https://vuex.vuejs.org/" target="_blank" rel="noopener">vuex</a></p>
</li>
<li><p>模块打包工具：<a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack3</a> __  <a href="http://www.css88.com/doc/webpack2/guides/development/" target="_blank" rel="noopener">中文文档</a></p>
</li>
</ul>
<h3 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">dist <span class="comment"># 打包目录</span></span><br><span class="line">|</span><br><span class="line">src  <span class="comment"># 开发目录</span></span><br><span class="line">├── index.html</span><br><span class="line">├── main.js    <span class="comment"># 主配置</span></span><br><span class="line">├── App.vue    <span class="comment"># 入口布局</span></span><br><span class="line">├── assets     <span class="comment"># 静态资源</span></span><br><span class="line">│   ├── image</span><br><span class="line">│   └── stylus</span><br><span class="line">│       ├── base.styl         <span class="comment"># 基础样式与YDUI主题色修改</span></span><br><span class="line">│       ├── icon.styl         <span class="comment"># 项目地址icon</span></span><br><span class="line">│       ├── variable.styl     <span class="comment"># 项目主题色配置</span></span><br><span class="line">│       └── index.styl</span><br><span class="line">│</span><br><span class="line">├── config     <span class="comment"># 配置文件 (待优化)</span></span><br><span class="line">│   ├── api       <span class="comment"># ajax相关</span></span><br><span class="line">│   ├── utils     <span class="comment"># 公共方法</span></span><br><span class="line">│   ├── axios.js  <span class="comment"># axios</span></span><br><span class="line">│   └── env.js    <span class="comment"># 开发环境配置</span></span><br><span class="line">│</span><br><span class="line">├── components</span><br><span class="line">│   └── ...<span class="comment"># 公共组件</span></span><br><span class="line">│</span><br><span class="line">├── pages</span><br><span class="line">│   ├── buy       <span class="comment"># 买车模块</span></span><br><span class="line">│   │   ├── index</span><br><span class="line">│   │   │    └── index.vue 买车主页</span><br><span class="line">│   │   └── other</span><br><span class="line">│   │</span><br><span class="line">│   ├── keep      <span class="comment"># 养车模块</span></span><br><span class="line">│   ├── discovery <span class="comment"># 发现模块</span></span><br><span class="line">│   └── common    <span class="comment"># 公共页面</span></span><br><span class="line">│</span><br><span class="line">├── router</span><br><span class="line">│   ├── index       <span class="comment"># 路由配置</span></span><br><span class="line">│   ├── buy         <span class="comment"># 买车模块路由</span></span><br><span class="line">│   ├── keep        <span class="comment"># 养车模块路由</span></span><br><span class="line">│   ├── discovery   <span class="comment"># 发现模块路由</span></span><br><span class="line">│   └── common      <span class="comment"># 公共页面路由</span></span><br><span class="line">│</span><br><span class="line">└── store       <span class="comment">#vuex配置</span></span><br><span class="line">    ├── index.js          <span class="comment"># 组装模块并导出store</span></span><br><span class="line">    ├── actions.js        <span class="comment"># 根级别的 action</span></span><br><span class="line">    ├── mutations.js      <span class="comment"># 根级别的 mutation</span></span><br><span class="line">    └── modules</span><br><span class="line">        └── ...           <span class="comment"># 各页面vuex配置</span></span><br></pre></td></tr></table></figure>
<h3 id="Commit-Message-编写规范"><a href="#Commit-Message-编写规范" class="headerlink" title="Commit Message 编写规范"></a>Commit Message 编写规范</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">feat: 新功能</span><br><span class="line">fix: 修补bug</span><br><span class="line">docs: 文档</span><br><span class="line">style: 格式(不影响代码运行的变动)</span><br><span class="line">refactor: 重构</span><br><span class="line">test: 添加测试</span><br><span class="line">chore: 构建过程或辅助工具的变动</span><br></pre></td></tr></table></figure>
<h3 id="edit规范配置文件"><a href="#edit规范配置文件" class="headerlink" title="edit规范配置文件"></a>edit规范配置文件</h3><p><em>根目录.editorconfig文件</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root = true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset = utf-8</span><br><span class="line">indent_style = space</span><br><span class="line">indent_size = 2</span><br><span class="line">end_of_line = lf</span><br><span class="line">insert_final_newline = true</span><br><span class="line">trim_trailing_whitespace = true</span><br></pre></td></tr></table></figure></p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>待添加…</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/13/车商通SCRM重构项目规划/" data-id="cjt194hnk002a84tpi7bgi13s" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信开发/">微信开发</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-javascript项目开发规范" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/06/javascript项目开发规范/" class="article-date">
  <time datetime="2017-12-06T12:28:12.000Z" itemprop="datePublished">2017-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/06/javascript项目开发规范/">javascript项目开发规范</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>总结一下个人在开发及review同事代码的过程中遇到的因为一些项目规范带来的问题及认为比较好的解决方法; 由于个人经验和认知水平有限,下面仅代表我的个人观念,欢迎各位大佬多给我提建议;</p>
</blockquote>
<h3 id="readme的使用"><a href="#readme的使用" class="headerlink" title="readme的使用"></a>readme的使用</h3><p>因为一个项目往往需要很多人一起协助开发,还有可能会不断有新手接手项目,所以readme里面一定要仅可能多的信息</p>
<ul>
<li>项目启动命令</li>
<li>代码规范</li>
<li>Commit Message 编写规范</li>
<li>命名: class命名,变量命名,函数命名,组件命名等</li>
<li>组件</li>
<li>目录结构</li>
<li>常遇到的问题及解决方案</li>
</ul>
<p><em>也可以加一些项目中遇到的设计到的文档链接</em></p>
<h3 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h3><h5 id="Commit-Message-编写规范"><a href="#Commit-Message-编写规范" class="headerlink" title="Commit Message 编写规范"></a>Commit Message 编写规范</h5><p>编写Commit Message需要遵循一定的范式，内容应该清晰明了，指明本次提交的目的，便于日后追踪问题。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">feat: 新功能</span><br><span class="line">fix: 修补bug</span><br><span class="line">docs: 文档</span><br><span class="line">style: 格式(不影响代码运行的变动)</span><br><span class="line">refactor: 重构</span><br><span class="line">test: 添加测试</span><br><span class="line">chore: 构建过程或辅助工具的变动</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://www.cnblogs.com/allenc/p/5178119.html" target="_blank" rel="noopener">class如何命名更规范</a></p>
<p><a href="https://blog.suisuijiang.com/git-commit-written-guide/" target="_blank" rel="noopener">Commit Message 编写指南</a></p>
<h4 id="转载"><a href="#转载" class="headerlink" title="转载"></a>转载</h4><p>转载自 <a href="http://wangyaxing.top/2017/12/04/2017-12-04-%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/" target="_blank" rel="noopener">funnycoderstar</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/06/javascript项目开发规范/" data-id="cjt194hlt000b84tpwbhezjno" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-自用VSCode插件合集" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/05/自用VSCode插件合集/" class="article-date">
  <time datetime="2017-12-05T11:06:23.000Z" itemprop="datePublished">2017-12-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/05/自用VSCode插件合集/">自用VSCode插件合集</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>最近转投VSCode阵营，自带的git diff功能很是实用，配合自带的terminal效率翻倍，比Atom功能完整,比webStrom启动速度快，再装上一些实用插件，简直… 不多夸了，记录下我用了哪些插件和基本配置</p>
</blockquote>
<h3 id="用户设置"><a href="#用户设置" class="headerlink" title="用户设置"></a>用户设置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//字号与自动换行</span></span><br><span class="line">    <span class="string">"editor.fontSize"</span>: <span class="number">16</span>,</span><br><span class="line">    <span class="string">"editor.wordWrap"</span>: <span class="string">"on"</span>, </span><br><span class="line"></span><br><span class="line">    <span class="comment">// file-header插件的配置</span></span><br><span class="line">    <span class="string">"fileheader.Author"</span>: <span class="string">"junxi"</span>,</span><br><span class="line">    <span class="string">"fileheader.LastModifiedBy"</span>: <span class="string">"junxi"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h3><ul>
<li><p>Atom One Dark</p>
<p>  Atom的自带主题，让我一眼就迷上的配色主题，很现代的配色，没错，形容词就是很现代 </p>
</li>
<li><p>One Dark Pro<br>  新版Atom主题</p>
</li>
</ul>
<h3 id="效率插件"><a href="#效率插件" class="headerlink" title="效率插件"></a>效率插件</h3><h5 id="自动补全"><a href="#自动补全" class="headerlink" title="自动补全"></a>自动补全</h5><ul>
<li><p>Vetur</p>
<p>  vue官方推荐的代码高亮提示插件;</p>
</li>
<li><p>Path Intellisense</p>
<p>  路径补全插件;</p>
</li>
<li><p>Auto Close Tag</p>
<p>  适用于 JSX、Vue、HTML，在打开标签并且键入 &lt;/ 的时候，能自动补全要闭合的标签;</p>
</li>
<li><p>NPM Intellisense</p>
<p>  NPM 依赖补全，在你引入任何 node_modules 里面的依赖包时提供智能提示和自动完成；</p>
</li>
</ul>
<h5 id="功能增强"><a href="#功能增强" class="headerlink" title="功能增强"></a>功能增强</h5><ul>
<li><p>vscode-fileheader</p>
<p>  在文件头部自动生成文件注释，如下</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @Author: junxi </span></span><br><span class="line"><span class="comment">* @Date: 2017-12-05 19:20:25 </span></span><br><span class="line"><span class="comment"> * @Last Modified by: junxi</span></span><br><span class="line"><span class="comment"> * @Last Modified time: 2017-12-05 19:45:51</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用生成快捷键 <code>Ctrl</code>+<code>Ait</code>+<code>i</code></p>
</blockquote>
<p><em>需要在用户设置中添加一下配置</em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"fileheader.Author"</span>: <span class="string">"Name"</span>,</span><br><span class="line">    <span class="string">"fileheader.LastModifiedBy"</span>: <span class="string">"Name"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Align</p>
<p>  自动代码对齐，强迫症福音</p>
</li>
</ul>
<blockquote>
<p>快捷键<code>Ctrl</code>+<code>Alt</code>+<code>A</code></p>
</blockquote>
<ul>
<li><p>CSS Peek </p>
<p>  追踪至样式表中 CSS 类和 ids 定义的地方。当你在 HTML 文件中右键单击选择器时，选择“ Go to Definition 和 Peek definition ”选项，它便会给你发送样式设置的 CSS 代码。</p>
</li>
</ul>
<h3 id="美化插件"><a href="#美化插件" class="headerlink" title="美化插件"></a>美化插件</h3><ul>
<li><p>background</p>
<p>  让你拥有深情脉脉看你敲代码的萌妹子<br>  <em>安装可能会提示界面报错，忽略即可，是插件修改了VSCode内部文件导致</em></p>
</li>
<li><p>Bracket Pair Colorizer</p>
<p>  让括号拥有独立的颜色，易于区分。可以配合任意主题使用。</p>
</li>
</ul>
<p><em>不断添加中…</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/05/自用VSCode插件合集/" data-id="cjt194hnj002984tp01oi9imm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IDE/">IDE</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-在TortoiseGit-pageant-中自动导入ppk文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/04/在TortoiseGit-pageant-中自动导入ppk文件/" class="article-date">
  <time datetime="2017-12-04T06:59:08.000Z" itemprop="datePublished">2017-12-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/04/在TortoiseGit-pageant-中自动导入ppk文件/">在TortoiseGit(pageant)中自动导入ppk文件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>在安装完TortoiseGit，通过PuTTYgen生成完rsa, ppk等文件后，要想pull文件，还得每次在TortoiseGit启动时，在pageant中手动导入ppk文件，很是烦人。下面就是解决TortoiseGit每次启动时需要手动导入ppk文件的问题。</p>
</blockquote>
<h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><ol>
<li>进入Git项目的目录，右键空白处，打开“TortoiseGit &gt; Settings”</li>
<li>选中“Git &gt; Remote”</li>
<li>选中正确的origin</li>
<li>在Putty一栏选择正确的ppk文件</li>
<li>点确定</li>
</ol>
<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><ol>
<li>在“启动”菜单中打开“启动”目录，Windows7一般在C:\Users\hairong\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</li>
<li>右键空白处，选择新建快捷方式</li>
<li>选择pageant的位置，并按填入ppk的位置，例如”C:\Program Files\TortoiseGit\bin\pageant.exe” C:\Users\hairong.ssh\id_rsa.ppk</li>
<li>修改快捷方式的名字为“pageant with ppk”，并保存</li>
<li>系统每次启动后就会自动加载ppk了</li>
</ol>
<p><em>系转载自：<a href="http://sulaohuai.blog.51cto.com/10674946/1712115" target="_blank" rel="noopener">http://sulaohuai.blog.51cto.com/10674946/1712115</a></em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/04/在TortoiseGit-pageant-中自动导入ppk文件/" data-id="cjt194hmb000u84tp3br6q0zj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/git/">git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/">ssh</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-用node-js快速搭建本地服务器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/01/用node-js快速搭建本地服务器/" class="article-date">
  <time datetime="2017-12-01T05:38:26.000Z" itemprop="datePublished">2017-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/01/用node-js快速搭建本地服务器/">用node.js快速搭建本地服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>利用node.js中的http-server插件，快速构建本地服务环境，便于在本地实时查看web开发项目</p>
</blockquote>
<h3 id="一：安装node-js"><a href="#一：安装node-js" class="headerlink" title="一：安装node.js"></a>一：安装node.js</h3><p><a href="https://nodejs.org" target="_blank" rel="noopener">node.js官网</a> </p>
<p><em>推荐下载稳定版就好，不用追新去下载最新版，以免出现不必要的问题</em></p>
<h3 id="二：安装http-server的依赖包"><a href="#二：安装http-server的依赖包" class="headerlink" title="二：安装http-server的依赖包"></a>二：安装http-server的依赖包</h3><p><em>用管理员命令打开命令窗口，本文以windows下的CMD命令窗口为例：</em></p>
<h4 id="新建项目目录"><a href="#新建项目目录" class="headerlink" title="新建项目目录"></a>新建项目目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">md demo &amp;&amp; cd demo</span><br></pre></td></tr></table></figure>
<h4 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p>然后会让你给项目命名和项目描述等</p>
<h4 id="全局安装http-server依赖"><a href="#全局安装http-server依赖" class="headerlink" title="全局安装http-server依赖"></a>全局安装<code>http-server</code>依赖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install http-server -g  //全局安装`http-server`依赖</span><br></pre></td></tr></table></figure>
<h4 id="添加http-server到项目依赖"><a href="#添加http-server到项目依赖" class="headerlink" title="添加http-server到项目依赖"></a>添加http-server到项目依赖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install http-server --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="三：添加服务启动命令"><a href="#三：添加服务启动命令" class="headerlink" title="三：添加服务启动命令"></a>三：添加服务启动命令</h3><p>完成<code>npm init</code>初始化项目后，目录下会生成<code>package.json</code>配置文件，在其中添加一条<code>script</code>命令</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">   "start": "http-server ./dist -p 8089 -o"</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>其中：<br>   http-server    =&gt;   启动http服务<br>  ./dist         =&gt;   项目所在目录，如果在根目录则不用填写此项<br>  -p 8089        =&gt;   设置项目端口到8089<br>  -o             =&gt;   自动在浏览器打开项目</p>
</blockquote>
<p>更多配置参数详见 ：   </p>
<p><a href="https://www.npmjs.com/package/http-server" target="_blank" rel="noopener">http-srever文档</a></p>
<h3 id="四：启动项目"><a href="#四：启动项目" class="headerlink" title="四：启动项目"></a>四：启动项目</h3><h4 id="放入项目文件"><a href="#放入项目文件" class="headerlink" title="放入项目文件"></a>放入项目文件</h4><p>首先把网站文件放在配置的./dist目录下 （启动文件默认为index.html,可以参照文档自行配置）</p>
<h4 id="输入启动命令"><a href="#输入启动命令" class="headerlink" title="输入启动命令"></a>输入启动命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure>
<p>浏览器会自动打开项目。默认地址为localhost:8089</p>
<blockquote>
<p>局域网访问，需要将将localhost替换为本机IP即可</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/12/01/用node-js快速搭建本地服务器/" data-id="cjt194hmk001584tpq92b6lh9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node-js/">node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-使用webpack做项目版本管理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/30/使用webpack做项目版本管理/" class="article-date">
  <time datetime="2017-11-30T05:41:13.000Z" itemprop="datePublished">2017-11-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/30/使用webpack做项目版本管理/">使用webpack做项目版本管理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>最近公司在做<code>vue-cli</code>构建的一个webApp项目，由于更新比较频繁，所以想到在每次用<code>webpack</code>打包的时候生成一个打包标记，相当于一个版本号，以供测试清楚当前的版本信息。</p>
</blockquote>
<h3 id="一：生成打包时间"><a href="#一：生成打包时间" class="headerlink" title="一：生成打包时间"></a>一：生成打包时间</h3><p>1.在<code>config/index.js</code>头部定义<code>version</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> nowDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> version = <span class="string">`1.<span class="subst">$&#123;nowDate.getMonth()+<span class="number">1</span>&#125;</span>.<span class="subst">$&#123;nowDate.getDate()&#125;</span><span class="subst">$&#123;nowDate.getHours()&#125;</span>`</span>;</span><br><span class="line"><span class="comment">//我是按照打包时间生成的版本号，具体想项目有不同的版本号规则</span></span><br></pre></td></tr></table></figure>
<p>2.将<code>version</code>挂载到<code>env</code>环境变量下，这样项目内就可以通过<code>process.env</code>调用版本信息</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过Object.assign(),将&#123;version:version&#125;插入env对象</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  build: &#123;</span><br><span class="line">    <span class="comment">//env:require('./prod.env'),</span></span><br><span class="line">    env: <span class="built_in">Object</span>.assign(</span><br><span class="line">          &#123;<span class="attr">VERSION</span>:<span class="built_in">JSON</span>.stringify(version)&#125;,</span><br><span class="line">          <span class="built_in">require</span>(<span class="string">'./prod.env'</span>)</span><br><span class="line">        ),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.调用version<br>  项目中使用<code>process.env.VERSION</code>可以获取当前版本信息</p>
<h3 id="二：将version关联到package-josn"><a href="#二：将version关联到package-josn" class="headerlink" title="二：将version关联到package.josn"></a>二：将<code>version</code>关联到package.josn</h3><p>1.将<code>version</code>通过<code>config/index</code>暴露出去，供打包过程中使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    build: &#123;...&#125;,</span><br><span class="line">    dev:   &#123;...&#125;,</span><br><span class="line">    version:version   <span class="comment">//新增项</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.在<code>webpack.prod.conf.js</code>中编写<code>webpack</code>插件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先引入`fs`模块</span></span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)  <span class="comment">//fs模块是`node.js`中读写文件的模块</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编写简单的webpack插件，去读取并修改package.json文件内容</span></span><br><span class="line">plugins: [</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 修改package.json中的版本号</span></span><br><span class="line">    <span class="keyword">this</span>.plugin(<span class="string">'done'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> pkgPath = path.join(__dirname, <span class="string">'/../package.json'</span>);</span><br><span class="line">      <span class="keyword">let</span> pkg = fs.readFileSync(pkgPath);</span><br><span class="line">      pkg = <span class="built_in">JSON</span>.parse(pkg);</span><br><span class="line">      pkg.version = config.version;</span><br><span class="line">      fs.writeFileSync(pkgPath, <span class="built_in">JSON</span>.stringify(pkg, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p><strong>现在执行打包任务，如<code>npm run build</code>就可以生成新的版本号，并写入<code>package.json</code>中，项目中也可以使用<code>process.env.VERSION</code>进行调用了</strong></p>
<h3 id="三：打包完毕，在控制台输出当前版本号"><a href="#三：打包完毕，在控制台输出当前版本号" class="headerlink" title="三：打包完毕，在控制台输出当前版本号"></a>三：打包完毕，在控制台输出当前版本号</h3><p>打包完毕的回调执行在<code>build/build.js</code>中,可以通过<code>config.version</code>获取版本信息，在完成打包输出控制台，便于开发者查看</p>
<p>以下我定义的输出格式：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rm(path.join(config.build.assetsRoot, config.build.assetsSubDirectory), err =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</span><br><span class="line">  webpack(webpackConfig, <span class="function"><span class="keyword">function</span> (<span class="params">err, stats</span>) </span>&#123;</span><br><span class="line">    spinner.stop()</span><br><span class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</span><br><span class="line">    process.stdout.write(stats.toString(&#123;</span><br><span class="line">      colors: <span class="literal">true</span>,</span><br><span class="line">      modules: <span class="literal">false</span>,</span><br><span class="line">      children: <span class="literal">false</span>,</span><br><span class="line">      chunks: <span class="literal">false</span>,</span><br><span class="line">      chunkModules: <span class="literal">false</span></span><br><span class="line">    &#125;) + <span class="string">'\n\n'</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(chalk.yellow(<span class="string">'&gt; 正式环境项目打包完毕 ヽ(^_^)ﾉ  版本：'</span> + config.version))</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>输出样式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">正式环境项目打包完毕 ヽ(^_^)ﾉ  版本：1.11.3015</span><br></pre></td></tr></table></figure></p>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/30/使用webpack做项目版本管理/" data-id="cjt194hly000f84tpfxlvbqn7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webpack/">webpack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-小诗一首" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/28/小诗一首/" class="article-date">
  <time datetime="2017-11-28T07:02:35.000Z" itemprop="datePublished">2017-11-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/心情随笔/">心情随笔</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/28/小诗一首/">小诗一首</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <html><br>    <h5 style="text-align:center;font-size:18px;font-weight:600;">赠友</h5><div style="text-align:center"><br>        <p>柳池阁边一别</p><p>今有数年去</p><p>而此间世事风雨变幻</p><p>飘零若叶难聚散</p><p>忆昔月下柳竟眠</p><p>双双夜阑珊</p><p>清水代酒笑独醉</p><p>任他冷眼相羡</p><p>又忆纵乘北向山</p><p>山岭突兀总悄言</p><p>待峰转</p><p>壮词风中未尽散</p><p>笑相识 相顾无言</p><p>忆相知 狂笑风雨群山</p><p>醉相去 淡水清风流年间</p><p> 酌醉 赠友</p><br>        <p style="text-align:right;padding:0 5%">– 2010.12 新疆·阿克苏</p><br>    </div><br></html>






      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/28/小诗一首/" data-id="cjt194hma000s84tp4pog74nh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-微信公众号开发(二)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/23/微信公众号开发(二)/" class="article-date">
  <time datetime="2017-11-23T01:38:05.000Z" itemprop="datePublished">2017-11-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/23/微信公众号开发(二)/">微信公众号开发(二)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="生成图片"><a href="#生成图片" class="headerlink" title="生成图片"></a>生成图片</h3><hr>
<p>上一篇文章中介绍了<code>dom-to-img</code>和<code>html2canvas</code>两个插件，今天再介绍下其中隐藏的坑。</p>
<h5 id="dom-to-image-兼容性"><a href="#dom-to-image-兼容性" class="headerlink" title="dom-to-image 兼容性"></a>dom-to-image 兼容性</h5><blockquote>
<p>Internet Explorer is not (and will not be) supported, as it does not support SVG <foreignobject> tag<br><em>Safari <a href="https://github.com/tsayen/dom-to-image/issues/27" target="_blank" rel="noopener">is not supported</a>, as it uses a stricter security model on <code>&lt;foreignObject</code>&gt; tag. Suggested workaround is to use <code>toSvg</code> and render on the server.</em>`</foreignobject></p>
</blockquote>
<p>简单翻译过来就是，不支持IE和Safari浏览器，同时需要注意，在ios设备上微信使用的内置浏览器其实就是Safari。</p>
<h5 id="html2canvas"><a href="#html2canvas" class="headerlink" title="html2canvas"></a>html2canvas</h5><ul>
<li>不支持css3样式<ul>
<li>背景图替换成img标签</li>
<li>word-break: break-all不支持</li>
</ul>
</li>
<li>img标签需要加载完毕之后，再开始转图片<br>实际开发中，可能先从接口获取头像，需要等加载完毕，再开始转图片，否则头像不显示。</li>
<li><p>dom太大，太长<br> ios对内存管理很严格，如果dom太大，在ios设备会抛出安全异常错误。</p>
<p> 解决方案：将dom切割，分块转成canvas，最后再合并到同一个canvas上。</p>
</li>
</ul>
<h3 id="图片格式"><a href="#图片格式" class="headerlink" title="图片格式"></a>图片格式</h3><hr>
<p>关于图片格式，最好使用png、jpg、jpeg。</p>
<p>因为svg、base64等在微信端表现不太良好，会导致以下几个功能失效：</p>
<pre><code>长按保存图片失败
长按识别二维码失败
发送给朋友失败
</code></pre><p>但是前端生成的图片一般都是base64格式的字符形式。</p>
<p>解决方案：将base64上传给后台，获取返回的url。</p>
<h3 id="图片模糊"><a href="#图片模糊" class="headerlink" title="图片模糊"></a>图片模糊</h3><hr>
<p>先说说为什么会模糊。</p>
<p><strong>将dom转换成canvas，实质是根据样式将html用canvas画出来，此时是一个像素点渲染一个像素，这在普通屏幕上是清晰的。<br>但是二倍屏、视网膜屏等是两个像素点渲染一个像素，相当于canvas被放大了，就会变得模糊。</strong></p>
<p>解决方案：<br>根据设备像素比，动态的转换canvas。</p>
<h3 id="生成二维码"><a href="#生成二维码" class="headerlink" title="生成二维码"></a>生成二维码</h3><hr>
<p><a href="https://github.com/xkeshi/vue-qrcode" target="_blank" rel="noopener">vue-qrcode</a></p>
<ul>
<li>需要使用img标签<br> <code>tag: &#39;img&#39;</code></li>
<li><p>尺寸<br> <code>size: 140</code><br> 遇到复杂的情况，html中包括二维码图片，然后将html整体转换成图片，如果二维码尺寸偏小，将导致ios生成的图片，在微信端长按无法识别其中的二维码。</p>
</li>
<li><p>边距<br><code>vue-qrcode</code>这个插件生成的二维码，超过一定尺寸就会产生白色的内边距，很丑，试了padding属性也没有作用。</p>
<p>解决方案：除了设置size属性外，还使用样式控制二维码根元素的宽高。</p>
</li>
</ul>
<h3 id="长按识别二维码"><a href="#长按识别二维码" class="headerlink" title="长按识别二维码"></a>长按识别二维码</h3><hr>
<p>长按识别二维码失败，长按无识别二维码选项的可能原因：</p>
<ul>
<li>img格式不正确<br> base64、svg等格式不支持</li>
<li>二维码尺寸偏小</li>
<li>vue-touch长按手势和微信长按手势冲突</li>
</ul>
<h3 id="sdk-config失败"><a href="#sdk-config失败" class="headerlink" title="sdk config失败"></a>sdk config失败</h3><hr>
<p>首先开启debug模式，查看错误原因。和后台多沟通，看看是否是因为签名不正确导致。</p>
<p>通常都是前端向后端请求，后端返回配置参数，安装正常情况来说，大多数返回的结果应该是正确的，但也有可能返回的错误的。</p>
<p>此时前端可以 <strong>暴力破解</strong>。</p>
<p>具体方案：<br>  给予3次机会，当连续3次调用接口后配置都失败，给予用户提示，关闭页面，重新进入。</p>
<h3 id="授权失败"><a href="#授权失败" class="headerlink" title="授权失败"></a>授权失败</h3><hr>
<p>授权失败原因就负责了，也超出了前端的范围，尽快找运维、后台解决吧。<br>排查步骤：</p>
<ul>
<li>尝试点击该公众号的其它菜单，观察是否能够进入</li>
<li>登录微信公众平台，查看相关配置，安全域名等</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://mp.weixin.qq.com/wiki?t=resource/res_main&amp;id=mp1421141115" target="_blank" rel="noopener">微信公众平台</a><br><a href="http://x.url.cn/jssdk/" target="_blank" rel="noopener">js-sdk demo</a><br><a href="https://github.com/tsayen/dom-to-image" target="_blank" rel="noopener">dom-to-image</a><br><a href="https://juejin.im/entry/58b91491570c35006c4f7fdf" target="_blank" rel="noopener">浅析 js 实现网页截图的两种方式</a><br><a href="http://www.dengzhr.com/frontend/html/1050" target="_blank" rel="noopener">canvas在高倍屏下变模糊的处理办法</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/23/微信公众号开发(二)/" data-id="cjt194hmm001884tp383q8pbx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信开发/">微信开发</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-微信公众号开发(一)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/22/微信公众号开发(一)/" class="article-date">
  <time datetime="2017-11-22T12:29:06.000Z" itemprop="datePublished">2017-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/22/微信公众号开发(一)/">微信公众号开发(一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><hr>
<p>踩坑：在开发中使用的是chrome浏览器，结果打包后在微信中显示样式错乱。</p>
<p>建议：使用微信开发者工具进行调试，它和微信都是x5内核，这样保证开发和生产样式一致。</p>
<h3 id="openid"><a href="#openid" class="headerlink" title="openid"></a>openid</h3><hr>
<p>微信开发是绕不开openid这个字段的，可以简单理解成用户的id。</p>
<p>开发前一定要询问清楚，后端如何给前端传递openid。</p>
<p>踩坑：曾经遇到一种方式，是后台通过cookie方式存储到浏览器，然而开发中存在延时问题，页面加载完了，还获取不到cookie,延时大约1s才可以获取的到。</p>
<p>建议：稳妥方式是让后台写一个登录接口，通过该接口获取openid。</p>
<h3 id="jssdk"><a href="#jssdk" class="headerlink" title="jssdk"></a>jssdk</h3><hr>
<p>微信提供了jssdk，其中封装了很多方便的功能。</p>
<p>安装依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install weixin-js-sdk --save</span><br></pre></td></tr></table></figure></p>
<p>jssdk需要通过config接口注入权限验证配置，才可以正常使用，其中的参数都是后端返回的，前端只要通过接口获取这些参数，并通过config验证即可。</p>
<h3 id="公众平台绑定域名"><a href="#公众平台绑定域名" class="headerlink" title="公众平台绑定域名"></a>公众平台绑定域名</h3><hr>
<p>使用jssdk是需要绑定域名的。JS接口安全域名：需要是一个公网域名。</p>
<blockquote>
<p>先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。</p>
</blockquote>
<p>这就导致本地开发无法调试jssdk功能，因为localhost:8080不是JS接口安全域名。</p>
<h3 id="内网穿透-转发"><a href="#内网穿透-转发" class="headerlink" title="内网穿透/转发"></a>内网穿透/转发</h3><hr>
<p>想要调试jssdk，代码需要发布到域名对应的ip服务器上。但是这样上传太频繁了。</p>
<p>把内网映射到公网，这样就可以在本地进行调试了。</p>
<p>常见工具：ngrok、魔法隧道、花生壳等。具体可搜索关键字<code>内网穿透/转发</code>。</p>
<h3 id="微信头像跨域"><a href="#微信头像跨域" class="headerlink" title="微信头像跨域"></a>微信头像跨域</h3><hr>
<p>踩坑：如果需要展示微信头像，请求后台返回的url会存在跨域问题。</p>
<p>建议：可以让后台返回头像的二进制文件(blob)，在ajax中记得设置响应类型<code>responseType:&#39;blob&#39;</code>，然后前端将blob转换成base64格式进行展示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (window.FileReader) &#123;</span><br><span class="line">     let fr = new FileReader();</span><br><span class="line">     let img = new Image();</span><br><span class="line">     fr.readAsDataURL(blob);</span><br><span class="line">     fr.onloadend = (e) =&gt; &#123;</span><br><span class="line">         img.src = e.target.result;</span><br><span class="line">         // appendChild(img)</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="生成海报-邀请函"><a href="#生成海报-邀请函" class="headerlink" title="生成海报/邀请函"></a>生成海报/邀请函</h3><hr>
<p>通常会有生成海报、邀请函的需求，这些有两种方案：</p>
<ul>
<li>后端生成图片<br>通过接口上传图片，后端生成图片并返回，前端展示。</li>
<li>前端生成图片<br>前端将dom转换成canvas或img。</li>
</ul>
<p>这里主要讲第二种，前端生成图片：<br>插件：dom-to-img、html2canvas<br>实际效果：html2canvas比较模糊，dom-to-img的png、jpeg格式同样模糊，但是svg格式很清晰。</p>
<p>html2canvas模糊方案之一：<br>将 canvas 的宽高设置成容器宽高的 2 倍，处理生成的 canvas 图片模糊失真<br>可参考：<a href="https://www.zhihu.com/question/48217555" target="_blank" rel="noopener">html2canvas截图失真</a></p>
<p><em>注意：</em> 除了模糊以外，html2canvas生成的图片和dom样式有不一致的地方。</p>
<h3 id="长按保存-转发图片"><a href="#长按保存-转发图片" class="headerlink" title="长按保存/转发图片"></a>长按保存/转发图片</h3><hr>
<p>踩坑：在微信网页中，长按普通的图片是可以保存或转发的，但是通过上一步dom转换的图片是svg格式，微信是不支持保存。</p>
<p>建议：</p>
<ul>
<li>生成图片后上传给后端，后端返回一个url。</li>
<li>前端将svg转换成png<ul>
<li>通过window.devicePixelRatio获取设备像素比scale</li>
<li>canvas画布的大小是图片的scale倍(<strong>相当于提高图片精度</strong>)</li>
<li>调用canvas的drawImage()在画布上绘图。</li>
<li>调用toDataUrl()返回png格式的图片展示<code>data URI</code></li>
<li>设置img.src，并且宽高缩小scale倍(这里是等比缩放，所以不会模糊)</li>
</ul>
</li>
</ul>
<h3 id="分享参数配置"><a href="#分享参数配置" class="headerlink" title="分享参数配置"></a>分享参数配置</h3><hr>
<p>jssdk分享接口中有一些参数配置项：</p>
<ul>
<li><p>link<br>分享链接，vue-router的hash模式，#后面的部分会被忽略<br>建议：使用urlencode加密</p>
<pre><code>或者在#前面加一个?
</code></pre></li>
<li><p>imgUrl<br>分享图标 </p>
<ul>
<li>可以放到图片服务器上</li>
<li>放到项目的assets目录中</li>
</ul>
</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLCanvasElement/toDataURL" target="_blank" rel="noopener">toDataUrl</a></p>
<h3 id="未完待续…"><a href="#未完待续…" class="headerlink" title="未完待续…"></a>未完待续…</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/22/微信公众号开发(一)/" data-id="cjt194hmg001184tpue0pf5tf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信开发/">微信开发</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/心情随笔/">心情随笔</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/游记/">游记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/">Promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VScode/">VScode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/">axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rem/">rem</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信开发/">微信开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/游记/">游记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/IDE/" style="font-size: 10px;">IDE</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/VScode/" style="font-size: 10px;">VScode</a> <a href="/tags/axios/" style="font-size: 10px;">axios</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/javascript/" style="font-size: 13.33px;">javascript</a> <a href="/tags/node-js/" style="font-size: 10px;">node.js</a> <a href="/tags/rem/" style="font-size: 10px;">rem</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/vue/" style="font-size: 20px;">vue</a> <a href="/tags/webpack/" style="font-size: 13.33px;">webpack</a> <a href="/tags/微信开发/" style="font-size: 16.67px;">微信开发</a> <a href="/tags/游记/" style="font-size: 10px;">游记</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/09/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2018/05/26/2018-云南三地背包游记/">2018-云南三地背包游记</a>
          </li>
        
          <li>
            <a href="/2018/03/21/webpack配置基础开发环境/">webpack配置基础开发环境</a>
          </li>
        
          <li>
            <a href="/2018/03/05/axios配置/">axios配置</a>
          </li>
        
          <li>
            <a href="/2018/01/08/javascript小技巧/">javascript小技巧</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>